# Transaction Broadcaster Service

The Transaction Broadcaster Service is designed to handle transaction signing and broadcasting to an EVM-compatible blockchain network. It begins with a client sending a POST request to the API Gateway. The request will contains details such as the type of transaction and its data via JSON. After receiving this request, the service validates the input and securely signs the transaction using a private key. Once signed, the transaction is added to a persistent queue for further processing, which might be implemented using Redis or RabbitMQ, to make sure that the data in the queue won’t be lost if the system fails or restarts. After queuing the transaction, the service immediately responds to the client with an acknowledgment (HTTP 200 OK).

Then, the Worker Service will dequeue transactions from the persistent queue and broadcast them to the blockchain network via a Remote Procedure Call. It makes requests to the blockchain node which processes the signed transaction and responds either with success, failure, or no response. For transactions that fail or where the node does not respond, the system retries automatically using exponential backoff. This means that the delay between retries starts small (ex. 1 second) and doubles with each attempt (ex. 2s, 4s, 8s) up to a maximum delay (ex. 60 seconds). This stops from overloading the blockchain node and improves success rates, especially given that the node is described with having 95% success within 20-30 seconds, 1% delays beyond 30 seconds, and 4% failures. The worker updates the transaction’s status in a database such as using PostgreSQL, storing the states as “Pending,” “Broadcasting,” “Success,” or “Failed,” so that the system can recover even after a restart.

If an admin wants to retry a failed transaction, they send a POST request to /transaction/retry with the transaction ID of a failed transaction in the request body. When this endpoint is called, the service retrieves the transaction details from the database, requeues the transaction, and triggers the worker to retry broadcasting it. This makes sure that manual intervention is possible for transactions that could not be successfully broadcasted after automatic retries.

Additionally, the service allows for a GET request to be sent to /transaction/status allowing admins to check the status of transactions. Clients can pass a transaction ID as a query parameter to retrieve detailed information about a specific transaction, including its type, data, current status, number of retries, and timestamps. To make it more user friendly for admins, an admin interface can be implemented with a simple UI made in React.

![Screenshot 2025-01-18 at 11 50 47 PM](https://github.com/user-attachments/assets/296b9701-611c-4f8a-8906-1e41fa025051)
